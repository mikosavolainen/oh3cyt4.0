<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OH3CYT - Contest Logbook</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/gtag.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet"></script>
    <script src="https://unpkg.com/@joergdietrich/leaflet.terminator"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="../index.html">OH3CYT</a>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html" data-lang="home">Home</a></li>
                <li><a href="equipment.html" data-lang="equipment">Equipment</a></li>
                <li><a href="logbook.html" data-lang="logbook">Logbook</a></li>
            </ul>
            <div class="lang-switcher">
                <button id="lang-en">EN</button>
                <button id="lang-fi">FI</button>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h1 data-lang="logbook_title">Contest Logbook</h1>
        </section>

        <section class="grayline-map-section">
            <h2 data-lang="grayline_map_title">Gray Line Map</h2>
            <div id="grayline-map"></div>
        </section>

        <section class="logbook-form-section">
            <form id="logbook-form">
                <fieldset id="cabrillo-category-config">
                    <legend data-lang="cabrillo.categories_title">Cabrillo Categories</legend>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="category-operator" data-lang="cabrillo.operator">Operator</label>
                            <select id="category-operator">
                                <option value="SINGLE-OP" selected data-lang="cabrillo.cat_op_single">SINGLE-OP</option>
                                <option value="MULTI-OP" data-lang="cabrillo.cat_op_multi">MULTI-OP</option>
                                <option value="CHECKLOG" data-lang="cabrillo.cat_op_checklog">CHECKLOG</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="category-band" data-lang="cabrillo.band">Band</label>
                            <select id="category-band">
                                <option value="ALL" selected data-lang="cabrillo.cat_band_all">ALL</option>
                                <option value="160M" data-lang="cabrillo.cat_band_160m">160M</option>
                                <option value="80M" data-lang="cabrillo.cat_band_80m">80M</option>
                                <option value="40M" data-lang="cabrillo.cat_band_40m">40M</option>
                                <option value="20M" data-lang="cabrillo.cat_band_20m">20M</option>
                                <option value="15M" data-lang="cabrillo.cat_band_15m">15M</option>
                                <option value="10M" data-lang="cabrillo.cat_band_10m">10M</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="category-mode" data-lang="cabrillo.mode">Mode</label>
                            <select id="category-mode">
                                <option value="MIXED" selected data-lang="cabrillo.cat_mode_mixed">MIXED</option>
                                <option value="CW" data-lang="cabrillo.cat_mode_cw">CW</option>
                                <option value="SSB" data-lang="cabrillo.cat_mode_ssb">SSB</option>
                                <option value="RTTY" data-lang="cabrillo.cat_mode_rtty">RTTY</option>
                                <option value="FM" data-lang="cabrillo.cat_mode_fm">FM</option>
                                <option value="DIGI" data-lang="cabrillo.cat_mode_digi">DIGI</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="category-power" data-lang="cabrillo.power">Power</label>
                            <select id="category-power">
                                <option value="HIGH" data-lang="cabrillo.cat_power_high">HIGH</option>
                                <option value="LOW" selected data-lang="cabrillo.cat_power_low">LOW</option>
                                <option value="QRP" data-lang="cabrillo.cat_power_qrp">QRP</option>
                            </select>
                        </div>
                    </div>
                </fieldset>
                <div class="contest-config">
                    <div class="form-group contest-selector">
                        <label for="contest" data-lang="log.contest">Contest</label>
                        <select id="contest">
                            <option value="generic-serial" data-lang="contest.generic_serial">Generic (Serial #)</option>
                            <option value="sral-peruskisa" data-lang="contest.sral_peruskisa">SRAL Peruskilpailu</option>
                            <option value="sac" data-lang="contest.sac">SAC Contest</option>
                            <option value="cq-wpx" data-lang="contest.cq_wpx">CQ WPX</option>
                            <option value="cq-ww-dx" data-lang="contest.cq_ww_dx">CQ WW DX</option>
                            <option value="iaru-hf" data-lang="contest.iaru_hf">IARU HF Champ</option>
                            <option value="generic-static" data-lang="contest.generic_static">Other (Static Exch)</option>
                        </select>
                    </div>
                    <div class="form-group province-code">
                        <label for="province-code" data-lang="log.province_code">Province Code</label>
                        <input type="text" id="province-code" maxlength="2" placeholder="UU">
                    </div>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="date" data-lang="log.date">Date</label>
                        <input type="date" id="date" required>
                    </div>
                    <div class="form-group">
                        <label for="time" data-lang="log.time">Time (UTC)</label>
                        <input type="time" id="time" required>
                    </div>
                    <div class="form-group">
                        <label for="call" data-lang="log.call">Call</label>
                        <input type="text" id="call" required>
                    </div>
                    <div class="form-group">
                        <label for="band" data-lang="log.band">Band</label>
                        <select id="band" required>
                            <option value="160m">160m</option>
                            <option value="80m">80m</option>
                            <option value="60m">60m</option>
                            <option value="40m">40m</option>
                            <option value="30m">30m</option>
                            <option value="20m">20m</option>
                            <option value="17m">17m</option>
                            <option value="15m">15m</option>
                            <option value="12m">12m</option>
                            <option value="10m">10m</option>
                            <option value="6m">6m</option>
                            <option value="2m">2m</option>
                            <option value="70cm">70cm</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="mode" data-lang="log.mode">Mode</label>
                        <select id="mode" required>
                            <option value="SSB">SSB</option>
                            <option value="CW">CW</option>
                            <option value="FM">FM</option>
                            <option value="RTTY">RTTY</option>
                            <option value="FT8">FT8</option>
                            <option value="FT4">FT4</option>
                            <option value="PSK31">PSK31</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="rst-sent" data-lang="log.rst_sent">RST Sent</label>
                        <input type="text" id="rst-sent" value="59" required>
                    </div>
                    <div class="form-group">
                        <label for="rst-rcvd" data-lang="log.rst_rcvd">RST Rcvd</label>
                        <input type="text" id="rst-rcvd" value="59" required>
                    </div>
                    <div class="form-group">
                        <label for="exch-sent" data-lang="log.exch_sent">Exch Sent</label>
                        <input type="text" id="exch-sent" required>
                    </div>
                    <div class="form-group">
                        <label for="exch-rcvd" data-lang="log.exch_rcvd">Exch Rcvd</label>
                        <input type="text" id="exch-rcvd" required>
                    </div>
                </div>
                <button type="submit" data-lang="log.add_qso">Add QSO</button>
            </form>
        </section>

        <section class="logbook-table-section">
            <h2 data-lang="log.logged_qsos">Logged QSOs</h2>
            <div class="table-container">
                <table id="logbook-table">
                    <thead>
                        <tr>
                            <th data-lang="log.date">Date</th>
                            <th data-lang="log.time">Time (UTC)</th>
                            <th data-lang="log.call">Call</th>
                            <th data-lang="log.band">Band</th>
                            <th data-lang="log.mode">Mode</th>
                            <th data-lang="log.rst_sent">RST Sent</th>
                            <th data-lang="log.rst_rcvd">RST Rcvd</th>
                            <th data-lang="log.exch_sent">Exch Sent</th>
                            <th data-lang="log.exch_rcvd">Exch Rcvd</th>
                            <th></th> <!-- For delete button -->
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Log entries will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>
            <button id="export-cabrillo" data-lang="log.export_cabrillo">Export to Cabrillo</button>
            <button id="reset-serial-btn" data-lang="log.reset_serial">Reset Serial Numbers</button>
        </section>

        <div id="cabrillo-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2 data-lang="cabrillo.modal_title">Cabrillo Header Information</h2>
                <form id="cabrillo-info-form">
                    <div class="form-group">
                        <label for="cabrillo-name" data-lang="cabrillo.name">Name</label>
                        <input type="text" id="cabrillo-name">
                    </div>
                    <div class="form-group">
                        <label for="cabrillo-address" data-lang="cabrillo.address">Address</label>
                        <input type="text" id="cabrillo-address">
                    </div>
                    <div class="form-group">
                        <label for="cabrillo-soapbox" data-lang="cabrillo.soapbox">Soapbox</label>
                        <textarea id="cabrillo-soapbox" rows="4"></textarea>
                    </div>
                    <button type="submit" id="save-cabrillo-info" data-lang="cabrillo.save_and_export">Save and Export</button>
                </form>
            </div>
        </div>
    </main>

    <footer>
        <div class="social-links">
            <a href="https://github.com/your_username" target="_blank">
                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
                <span data-lang="github">Github</span>
            </a>
            <a href="https://www.qrz.com/db/OH3CYT" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 50 24" fill="white"><style>.qrz-text { font: bold 20px sans-serif; }</style><text x="0" y="18" class="qrz-text">QRZ</text></svg>
                <span data-lang="qrz">QRZ</span>
            </a>
            <a href="https://oh3ac.oh3cyt.com" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 12 L12 22 M8 22 L16 22 M12 12 L20 4 M12 12 L4 4 M8 12 L16 12"/></svg>
                <span data-lang="websdr">WebSDR</span>
            </a>
        </div>
        <p>&copy; 2024 OH3CYT. All rights reserved.</p>
    </footer>

    <script src="../js/script.js"></script>
    <script src="../js/logbook.js"></script>
    <script src="../js/grayline.js"></script>
</body>
</html>
